---
import "@/styles/global.css";

import Base from "@/layouts/Base.astro";
import Avatar from "@/components/ui/Avatar.astro";
import Banner from "@/components/ui/Banner.astro";
import Navigation from "@/components/ui/Navigation.astro";
import type { StyledProps } from "@/lib/types";

interface Props extends StyledProps {}

const { class: className, style: styleAttr } = Astro.props;

const mainPageWidth = 75;
---

<Base>
  <slot slot="head" name="head" />
  <Banner />

  <main
    class:list={[
      className,
      "relative mx-auto grid",
      `max-w-[${mainPageWidth}rem] top-14`,
    ]}
  >
    <aside class="mr-4 flex flex-col gap-4">
      {Astro.slots.has("side-left") ? <slot name="side-left" /> : <Avatar />}
    </aside>
    <div class="flex flex-col gap-4 overflow-hidden">
      <Navigation />
      <slot />
    </div>
    <aside class="sticky top-0 ml-4 flex flex-col gap-4">
      <slot name="side-right" />
    </aside>
  </main>
</Base>
