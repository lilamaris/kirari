---
import type { GetStaticPaths } from "astro";

import Layout from "@/layouts/Layout.astro";
import PostList from "@/components/PostList.astro";

import { SITE_APPEARANCE_CONFIG } from "@/consts/site";
import { getSortedPosts } from "@/lib/content-util";

export const getStaticPaths = (async ({ paginate }) => {
  const posts = await getSortedPosts();
  // return paginate(posts, { pageSize: SITE_APPEARANCE_CONFIG.postPerPageCount });
  return paginate(posts, { pageSize: 50 });
}) satisfies GetStaticPaths;

const { page } = Astro.props;
---

<Layout>
  <PostList posts={page.data} />
</Layout>
