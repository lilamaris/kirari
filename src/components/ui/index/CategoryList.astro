---
import { getCollection } from "astro:content";
import type { StyledProps } from "@/types";

import Decorator from "@/components/common/Decorator.astro";
import IndexList from "@/components/ui/index/IndexList.astro";
import CategoryItem from "@/components/ui/index/CategoryItem.astro";

interface Props extends StyledProps {}

const { class: className = "", style: styleAttr = "" } = Astro.props;

const categories = await getCollection(
  "postIndex",
  (index) => index.data.type === "categories",
);
---

<div class:list={[className, "card flex flex-col px-4 py-2"]} style={styleAttr}>
  <Decorator class="text-foreground mb-1">
    <span>Categories</span>
  </Decorator>
  <IndexList class="mb-1" items={categories} renderer={CategoryItem} />
</div>
