---
import Link from "@/components/common/Link.astro";
import { ROUTE } from "@/consts";

import { joinUrl, toStyleVars } from "@/lib/utils";
import type { Post, StyledProps, IterableRenderProps } from "@/types";

interface Props extends StyledProps, IterableRenderProps<Post> {}

const {
  class: className,
  style: styleAttr,
  items = [],
  renderer: Comp,
} = Astro.props;
---

<ul class:list={[className, "anim-delay-sequence"]} style={styleAttr}>
  {
    items.map((post, index) => (
      <li class="anim-onload" style={`--i: ${index}`}>
        <Link href={joinUrl(ROUTE["blog"].href, post.id)}>
          <Comp id={post.id} index={index} item={post} />
        </Link>
      </li>
    ))
  }
</ul>
