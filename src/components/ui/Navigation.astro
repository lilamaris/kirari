---
import { APPEARANCE, ROUTE } from "@/consts";

import HueController from "@/components/ui/HueController.svelte";
import ThemeController from "@/components/ui/ThemeController.svelte";
import Link from "@/components/common/Link.astro";
import Img from "@/components/common/Img.astro";

import { objectEntries, toInlineStyle, toStyleVars } from "@/lib/utils";
import type { StyledProps } from "@/types";

interface Props extends StyledProps {}

const { class: className = "", style: styleAttr = "" } = Astro.props;
const { contentWidth, navigationHeight, siteIconUrl } = APPEARANCE;
---

<nav
  class:list={[
    className,
    "bg-surface/60 flex w-full justify-center backdrop-blur-sm",
    "h-[var(--navigationHeight)]",
  ]}
  style={toInlineStyle([styleAttr, toStyleVars({ navigationHeight })])}
>
  <div
    class="flex max-w-[var(--contentWidth)] flex-1 items-center gap-4"
    style={toStyleVars({ contentWidth })}
  >
    <Img src={siteIconUrl} class="size-4 rounded-sm" />
    <ul class="flex gap-4">
      {
        objectEntries(ROUTE).map(([key, route]) => (
          <li>
            <Link href={route.href}>
              <span class="text-foreground/70 hover:text-foreground font-semilight text-sm transition">
                {route.label}
              </span>
            </Link>
          </li>
        ))
      }
    </ul>
    <div class="ml-auto flex gap-px">
      <HueController client:only />
      <ThemeController client:only />
    </div>
  </div>
</nav>
