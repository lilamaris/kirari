---
import { APPEARANCE, ROUTE } from "@/consts";

import Link from "@/components/common/Link.astro";

import ThemeController from "@/components/ui/ThemeController.svelte";
import HueController from "@/components/ui/HueController.svelte";

import { objectEntries, toInlineStyle, toStyleVars } from "@/lib/utils";
import type { StyledProps } from "@/types";
import Img from "../common/Img.astro";

interface Props extends StyledProps {
  contentWidth?: number;
}

const {
  class: className = "",
  style: styleAttr = "",
  contentWidth = APPEARANCE.pageWidth,
} = Astro.props;
---

<nav class:list={[className]} style={toInlineStyle([styleAttr])}>
  <div
    class:list={["mx-auto flex w-full max-w-[var(--contentWidth)]"]}
    style={toStyleVars({ contentWidth })}
  >
    <div class="flex flex-1 items-center gap-4">
      <Img src="/src/assets/demo-icon.png" class="size-4 rounded-sm" />
      <ul class="flex gap-4">
        {
          objectEntries(ROUTE).map(([key, route]) => (
            <li>
              <Link href={route.href}>
                <span class="text-foreground/70 hover:text-foreground font-semilight text-sm transition">
                  {route.label}
                </span>
              </Link>
            </li>
          ))
        }
      </ul>
    </div>
    <div class="flex items-center gap-px">
      <HueController client:only="svelte" />
      <ThemeController client:only="svelte" />
    </div>
  </div>
</nav>
